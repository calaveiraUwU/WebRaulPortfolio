---
import Header from "../components/Header.astro";
import Sidebar from "../components/Sidebar.astro";
import "../components/profile.css"; 
---

<html>
  <Header title="Professional Profile | Raul Cano Portolés" />
  <body>
    <div class="content">
      <Sidebar selectedItem="professional-profile" />
      <nav class="main">
        <div class="container">
          <div class="back-nav-container">
            <a href="/" class="back-nav-button w-inline-block">
              <img src="/assets/back.svg" loading="lazy" alt="" class="back-nav-img" />
              <div>Back</div>
            </a>
          </div>

          <div class="profile-page">
            <div class="profile-header">
                <img src="/assets/raul.png" alt="Raul Cano Portolés" class="profile-avatar" />
                <div class="profile-info">
                <h1>Raul Cano Portolés</h1>
                <h2>Game & Software Developer</h2>
                <p class="profile-summary">
                    Passionate about creating immersive and interactive experiences using Unity, Unreal Engine, C#, and C++. 
                    I combine creativity and technical expertise to deliver efficient, scalable, and engaging gameplay systems.
                </p>
                </div>
            </div>

            <section class="profile-section">
                <h3>Core Skills</h3>
                <div class="profile-skills">
                <span class="profile-skill">Unity</span>
                <span class="profile-skill">Unreal Engine 5</span>
                <span class="profile-skill">C#</span>
                <span class="profile-skill">C++</span>
                <span class="profile-skill">.NET</span>
                <span class="profile-skill">VR SDK</span>
                <span class="profile-skill">Git</span>
                <span class="profile-skill">Agile Dev</span>
                </div>
            </section>

            <section class="profile-section">
                <h3>Career Objectives</h3>
                <p class="profile-objectives">
                I aim to join a creative studio or development team focused on innovative gameplay mechanics, 
                VR experiences, or software development with strong technical challenges. 
                Open to opportunities in Spain (Barcelona/Tarragona), Dubai, EEUU and remote positions.
                </p>
            </section>
          </div>
        </div>
      </nav>
    </div>
    <script type="module">
  // Safe init: espera al DOM si es necesario
  (function () {
    const initObserver = () => {
      const nodes = Array.from(document.querySelectorAll('.profile-header, .profile-section'));
      if (!nodes.length) {
        console.warn('[Profile] No elements found for animation. Check class names.');
        return;
      }

      // Si IntersectionObserver no está soportado -> mostramos todo
      if (typeof IntersectionObserver === 'undefined') {
        nodes.forEach(n => n.classList.add('visible'));
        return;
      }

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            // opcional: dejar de observar después de que aparezca
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });

      nodes.forEach(el => observer.observe(el));
      console.log('[Profile] IntersectionObserver initialized. Observing', nodes.length, 'elements.');
    };

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initObserver);
    } else {
      initObserver();
    }
  })();
</script>

  </body>
</html>
